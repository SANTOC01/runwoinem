import{Ba as j,Ga as F,M as K,Mb as G,Oa as m,Pa as k,Q as M,Qa as y,Qb as I,R as D,Sa as N,Ta as H,Tb as E,Va as c,Wa as d,Xa as h,Y as g,Z as A,_a as p,ac as B,bc as V,c as v,cc as Y,dc as X,eb as u,fb as _,ga as $,gb as W,hb as P,ib as z,j as b,na as R,q as S,ra as r,wb as U}from"./chunk-5YP7PA6P.js";var w=[{name:"Weinheim",country:"DE",lat:49.545,lon:8.665,cumulativeKm:0,isMilestone:!0,emoji:"\u{1F3C1}",image:"weinheim.png"},{name:"K\xF6ln",country:"DE",lat:50.938,lon:6.96,cumulativeKm:190,isMilestone:!1,labelDx:-45,labelDy:14,image:"cologne.png"},{name:"Paris",country:"FR",lat:48.853,lon:2.35,cumulativeKm:690,isMilestone:!0,emoji:"\u{1F5FC}",labelDy:18,image:"paris.png"},{name:"Madrid",country:"ES",lat:40.416,lon:-3.703,cumulativeKm:1990,isMilestone:!0,emoji:"\u{1F402}",image:"madrid.png"},{name:"Lissabon",country:"PT",lat:38.716,lon:-9.139,cumulativeKm:2630,isMilestone:!0,emoji:"\u{1F3AF}",image:"lissabon.png"},{name:"Marseille",country:"FR",lat:43.297,lon:5.381,cumulativeKm:4530,isMilestone:!1,labelDy:18,image:"marseille.png"},{name:"Rom",country:"IT",lat:41.89,lon:12.492,cumulativeKm:5230,isMilestone:!0,emoji:"\u{1F3DB}\uFE0F",image:"rome.png"},{name:"Athen",country:"GR",lat:37.984,lon:23.728,cumulativeKm:7330,isMilestone:!0,emoji:"\u{1F3FA}",image:"athen.png"},{name:"Budapest",country:"HU",lat:47.498,lon:19.04,cumulativeKm:9030,isMilestone:!1,labelDy:16,image:"budapest.png"},{name:"Warschau",country:"PL",lat:52.23,lon:21.01,cumulativeKm:9810,isMilestone:!1,image:"warschau.png"},{name:"Helsinki",country:"FI",lat:60.17,lon:24.935,cumulativeKm:11410,isMilestone:!0,emoji:"\u{1F332}",image:"helsinki.png"},{name:"Oslo",country:"NO",lat:59.911,lon:10.752,cumulativeKm:12310,isMilestone:!0,emoji:"\u26F5",image:"oslo.png"},{name:"London",country:"GB",lat:51.507,lon:-.128,cumulativeKm:13910,isMilestone:!0,emoji:"\u{1F3A1}",labelDx:-12,labelDy:4,labelAnchor:"end",image:"london.png"},{name:"Amsterdam",country:"NL",lat:52.37,lon:4.895,cumulativeKm:14410,isMilestone:!1,image:"amsterdam.png"}];var c4=(a,t)=>t.name;function d4(a,t){if(a&1&&(g(),h(0,"path",45)),a&2){let L=p();m("d",L.progressPath)}}function m4(a,t){if(a&1&&(g(),h(0,"circle",55),c(1,"text",56),u(2),d()),a&2){let L=p().$implicit,e=p();m("fill",e.isPassed(L)?"#43c6ac":"#fff"),r(),m("x",L.labelDx??8)("y",L.labelDy??-12)("text-anchor",L.labelAnchor??"start"),r(),_((L.emoji?L.emoji+" ":"")+L.name)}}function p4(a,t){if(a&1&&(g(),h(0,"circle",57),c(1,"text",58),u(2),d()),a&2){let L=p().$implicit,e=p();m("fill",e.isPassed(L)?"#43c6ac":"#ccc"),r(),m("x",L.labelDx??8)("y",L.labelDy??-10),r(),_(L.name)}}function h4(a,t){if(a&1&&(g(),c(0,"g"),k(1,m4,3,5)(2,p4,3,4),d()),a&2){let L=t.$implicit,e=p();m("transform","translate("+e.wpX(L)+","+e.wpY(L)+")"),r(),y(L.isMilestone?1:2)}}function u4(a,t){if(a&1&&(g(),h(0,"rect",59),c(1,"text",60),u(2),d()),a&2){let L=p();r(2),W(" \u{1F504} Runde ",L.currentLap+1," ")}}function g4(a,t){if(a&1&&(c(0,"div",49)(1,"span"),u(2),d()()),a&2){let L=p();r(2),z("",L.weatherIcon," Wetter in ",L.weatherCity,": ",L.weatherTemp,"\xB0C")}}function f4(a,t){if(a&1&&(c(0,"div",53),u(1),d()),a&2){let L=p();r(),_(L.lapMessage)}}var q=-25,v4=45,k4=35,J=72,a4=900,i4=600;function Q(a){return(a-q)/(v4-q)*a4}function L4(a){return(J-a)/(J-k4)*i4}function n4(a,t){let L=1-t;return{x:L*L*L*a.p0.x+3*L*L*t*a.cp1.x+3*L*t*t*a.cp2.x+t*t*t*a.p1.x,y:L*L*L*a.p0.y+3*L*L*t*a.cp1.y+3*L*t*t*a.cp2.y+t*t*t*a.p1.y}}function y4(a){let t=a.length;return a.map((L,e)=>{let i=a[(e-1+t)%t],n=a[(e+1)%t],l=a[(e+2)%t],o=a[(e+1)%t];return{p0:L,cp1:{x:L.x+(n.x-i.x)/6,y:L.y+(n.y-i.y)/6},cp2:{x:o.x-(l.x-L.x)/6,y:o.y-(l.y-L.y)/6},p1:o}})}function x4(a,t){let L=(l,o)=>({x:l.x+t*(o.x-l.x),y:l.y+t*(o.y-l.y)}),e=L(a.p0,a.cp1),i=L(a.cp1,a.cp2),n=L(e,i);return{p0:a.p0,cp1:e,cp2:n,p1:n4(a,t)}}function e4(a,t){return a+` C ${t.cp1.x.toFixed(1)},${t.cp1.y.toFixed(1)} ${t.cp2.x.toFixed(1)},${t.cp2.y.toFixed(1)} ${t.p1.x.toFixed(1)},${t.p1.y.toFixed(1)}`}var b4=["","zweite","dritte","vierte","f\xFCnfte","sechste"],M4=300,t4=class a{http=D(E);cdr=D(U);total=0;bgImagePath=new F;waypoints=w;lapDistance=15010;totalGoal=5e4;svgWidth=a4;svgHeight=i4;routeViewBox="175 158 565 420";svgPoints=w.map(t=>({x:Q(t.lon),y:L4(t.lat)}));loopPoints=[...this.svgPoints,this.svgPoints[0]];segments=y4(this.svgPoints);fullRoutePath=(()=>{let t=this.segments,L=`M ${t[0].p0.x.toFixed(1)},${t[0].p0.y.toFixed(1)}`;for(let e of t)L+=` C ${e.cp1.x.toFixed(1)},${e.cp1.y.toFixed(1)} ${e.cp2.x.toFixed(1)},${e.cp2.y.toFixed(1)} ${e.p1.x.toFixed(1)},${e.p1.y.toFixed(1)}`;return L+=" Z",L})();currentLap=0;kmInLap=0;dotX=this.svgPoints[0].x;dotY=this.svgPoints[0].y;progressPath="";currentSegmentIndex=0;nearestCityName=w[0].name;kmToNextCity=0;lapMessage="";nearMilestoneCity=null;weatherTemp=null;weatherIcon="";weatherCity="";lastWeatherCity="";ngOnChanges(){this.updatePosition()}updatePosition(){let t=Math.max(0,this.total);this.currentLap=Math.floor(t/15010),this.kmInLap=t%15010;let L=w,e=this.kmInLap,i=L.length-1;for(let s=0;s<L.length-1;s++)if(e>=L[s].cumulativeKm&&e<L[s+1].cumulativeKm){i=s;break}let n=L[L.length-1].cumulativeKm,l=15010,o;if(e>=n)i=L.length-1,o=(e-n)/(l-n);else{let s=L[i].cumulativeKm,f=L[i+1].cumulativeKm;o=(e-s)/(f-s)}o=Math.max(0,Math.min(1,o)),this.currentSegmentIndex=i;let O=n4(this.segments[i],o);if(this.dotX=O.x,this.dotY=O.y,i===0&&o===0)this.progressPath="";else{let s=`M ${this.segments[0].p0.x.toFixed(1)},${this.segments[0].p0.y.toFixed(1)}`;for(let f=0;f<i;f++)s=e4(s,this.segments[f]);o>0&&(s=e4(s,x4(this.segments[i],o))),this.progressPath=s}let T=e>=n?0:i+1;this.nearestCityName=L[T].name;let o4=e>=n?15010:L[T].cumulativeKm;this.kmToNextCity=Math.round(o4-e);let Z=L[i].image;this.bgImagePath.emit(Z?`assets/images/locations/${Z}`:"");let x=L[i];if(x.name!==this.lastWeatherCity&&(this.lastWeatherCity=x.name,this.fetchWeather(x.lat,x.lon,x.name)),this.nearMilestoneCity=null,this.currentLap>0)for(let s of L){if(!s.isMilestone)continue;if(Math.abs(e-s.cumulativeKm)<=M4){this.nearMilestoneCity=s;break}}this.lapMessage=this.buildLapMessage()}buildLapMessage(){if(this.currentLap===0&&!this.nearMilestoneCity)return"";if(this.nearMilestoneCity&&this.currentLap>0){let t=this.currentLap+1;return`Das ist schon das ${b4[this.currentLap]??`${t}.`} Mal in ${this.nearMilestoneCity.name}! \u{1F389}`}return this.currentLap>0?`Runde ${this.currentLap+1} l\xE4uft \u2013 weiter so! \u{1F4AA}`:""}wpX(t){return Q(t.lon)}wpY(t){return L4(t.lat)}isPassed(t){return this.kmInLap>t.cumulativeKm}get totalKmFormatted(){return this.total.toLocaleString("de-DE")}fetchWeather(t,L,e){this.http.get(`https://api.open-meteo.com/v1/forecast?latitude=${t}&longitude=${L}&current=temperature_2m,weather_code`).subscribe({next:i=>{this.weatherTemp=Math.round(i.current.temperature_2m),this.weatherIcon=this.getWeatherIcon(i.current.weather_code),this.weatherCity=e,this.cdr.markForCheck()},error:()=>{this.weatherTemp=null}})}getWeatherIcon(t){return t===0?"\u2600\uFE0F":t<=2?"\u{1F324}\uFE0F":t===3?"\u2601\uFE0F":t<=48?"\u{1F32B}\uFE0F":t<=55?"\u{1F326}\uFE0F":t<=65?"\u{1F327}\uFE0F":t<=77?"\u{1F328}\uFE0F":t<=82?"\u{1F326}\uFE0F":t<=86?"\u{1F328}\uFE0F":"\u26C8\uFE0F"}static \u0275fac=function(L){return new(L||a)};static \u0275cmp=j({type:a,selectors:[["app-europe-map"]],inputs:{total:"total"},outputs:{bgImagePath:"bgImagePath"},features:[$],decls:61,vars:14,consts:[[1,"europe-map-wrapper"],["xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Eurotrip Fortschritts-Karte",1,"europe-svg"],["width","900","height","600","fill","#cde8f5","rx","12"],[1,"landmass"],["d","M 952.7,415.1 L 946.9,424.8 L 934.4,427.4 L 921.6,444.2 L 933.3,459.6 L 932.0,470.5 L 946.1,489.6 L 946.1,489.6 L 938.4,496.1 L 936.2,500.2 L 930.5,499.1 L 921.7,489.3 L 918.1,488.7 L 910.0,485.0 L 906.0,478.3 L 894.1,474.9 L 886.3,477.5 L 884.0,474.5 L 866.5,466.7 L 847.6,464.1 L 836.7,461.3 L 835.1,463.2 L 818.7,449.5 L 804.1,443.4 L 793.0,433.9 L 802.3,431.3 L 813.0,417.7 L 805.8,411.3 L 824.8,404.7 L 824.4,401.1 L 812.9,403.7 L 813.3,396.5 L 819.9,392.0 L 832.3,390.8 L 834.4,385.4 L 831.5,376.5 L 836.8,368.0 L 836.6,363.2 L 817.6,357.9 L 810.1,358.1 L 802.2,350.5 L 792.3,353.1 L 776.0,347.4 L 776.3,344.2 L 771.7,337.2 L 761.5,336.4 L 760.4,331.4 L 763.6,328.1 L 755.4,318.9 L 742.1,320.5 L 738.2,319.6 L 734.9,323.3 L 730.1,322.7 L 730.1,322.7 L 726.9,312.3 L 723.9,306.9 L 726.4,305.4 L 736.8,306.0 L 741.8,302.4 L 738.1,298.1 L 729.4,295.2 L 730.2,292.3 L 724.9,289.3 L 716.9,278.7 L 719.6,274.4 L 718.4,266.7 L 705.8,262.9 L 699.1,264.8 L 697.2,260.8 L 683.7,256.7 L 679.6,247.1 L 678.5,239.3 L 672.3,235.5 L 677.8,230.4 L 674.0,215.3 L 683.1,205.9 L 681.2,203.1 L 681.2,203.1 L 695.8,194.1 L 682.3,186.4 L 682.3,186.4 L 709.9,165.7 L 721.8,156.4 L 726.6,148.1 L 707.6,137.0 L 712.9,126.4 L 701.3,114.3 L 709.9,100.4 L 695.0,82.0 L 706.9,69.8 L 687.2,59.0 L 689.0,47.6 L 699.4,46.1 L 721.3,39.6 L 721.3,39.6 L 734.6,34.0 L 755.7,43.8 L 790.9,47.6 L 839.5,66.0 L 849.3,73.7 L 850.2,84.5 L 835.9,93.0 L 814.9,97.3 L 757.5,85.0 L 748.1,87.0 L 769.0,98.9 L 769.9,106.4 L 770.7,123.0 L 787.3,128.0 L 797.3,132.2 L 799.0,124.3 L 791.2,117.3 L 799.4,111.2 L 830.5,121.3 L 841.3,117.3 L 832.7,105.5 L 862.6,89.6 L 874.5,90.5 L 886.5,96.2 L 894.0,85.0 L 883.3,75.4 L 889.6,65.7 L 880.1,55.6 L 916.1,60.8 L 923.4,69.9 L 907.1,71.9 L 907.2,80.9 L 917.3,86.5 L 937.2,83.0 L 940.4,72.6 L 967.2,64.9 L 994.2,328.9 L 974.1,329.3 L 947.6,346.9 L 946.0,358.8 L 932.8,349.4 L 922.5,367.2 L 926.3,370.5 L 918.9,382.8 L 929.8,393.8 L 939.3,393.3 L 947.5,404.2 L 946.2,412.5 L 952.7,415.1 Z M 613.7,286.6 L 590.0,286.8 L 574.2,285.0 L 577.1,277.8 L 594.9,272.6 L 608.3,275.4 L 614.0,278.0 L 612.7,282.4 L 613.7,286.6 Z M 984.9,8.5 L 983.0,-0.2 L 996.1,-3.7 L 995.7,-12.6 Z M 751.3,422.1 L 754.7,418.1 L 763.8,421.5 L 768.0,422.2 L 769.7,425.4 L 771.6,425.9 L 771.7,427.3 L 778.0,431.2 L 791.1,430.2 L 788.6,436.0 L 774.5,438.8 L 757.1,448.2 L 749.9,444.9 L 752.7,437.3 L 738.7,432.5 L 741.0,429.4 L 753.3,424.0 L 751.3,422.1 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 541.5,-78.0 L 526.0,-77.4 Z M 721.3,39.6 L 699.4,46.1 L 689.0,47.6 L 694.5,36.2 L 678.0,29.8 L 658.0,35.3 L 651.7,47.2 L 639.5,54.3 L 625.7,50.4 L 608.9,51.2 L 594.6,42.6 L 586.9,46.9 L 578.9,47.6 L 577.0,58.3 L 552.8,55.7 L 549.4,64.7 L 537.0,64.6 L 528.5,76.2 L 515.7,94.2 L 495.7,117.0 L 500.4,122.5 L 495.9,128.9 L 483.2,128.7 L 474.8,143.9 L 475.6,165.4 L 483.8,173.6 L 479.6,192.7 L 468.9,203.8 L 463.2,213.1 L 454.6,203.2 L 429.2,221.9 L 412.1,225.7 L 394.3,217.5 L 389.7,200.1 L 385.6,162.6 L 397.5,152.2 L 431.4,138.6 L 456.8,121.8 L 480.3,99.2 L 511.2,67.9 L 532.7,55.7 L 568.1,35.4 L 596.3,28.3 L 617.4,29.2 L 637.0,15.7 L 660.5,16.4 L 683.6,13.2 L 723.8,25.1 L 707.2,29.4 L 721.3,39.6 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 401.0,365.5 L 407.0,369.7 L 425.6,372.7 L 419.1,383.8 L 417.4,395.3 L 413.9,398.1 L 408.0,396.6 L 408.5,400.7 L 399.1,409.9 L 398.9,417.2 L 405.0,414.7 L 409.4,421.8 L 408.9,426.3 L 412.7,432.4 L 408.2,437.4 L 411.5,449.9 L 418.5,452.0 L 417.0,459.0 L 405.4,468.2 L 380.0,463.8 L 361.3,469.1 L 359.8,478.8 L 344.9,480.9 L 330.4,473.6 L 325.8,477.1 L 302.1,469.7 L 297.0,463.4 L 303.6,453.7 L 306.1,421.4 L 292.8,404.4 L 283.3,396.2 L 263.7,389.9 L 262.4,378.1 L 279.1,374.6 L 300.6,378.7 L 296.6,360.4 L 308.7,367.3 L 338.6,354.7 L 342.5,341.4 L 353.7,338.1 L 355.6,343.8 L 361.6,344.1 L 367.6,350.6 L 376.5,358.3 L 383.1,357.0 L 394.4,364.4 L 397.3,365.8 L 401.0,365.5 Z M 433.9,476.3 L 442.2,470.1 L 444.3,484.0 L 440.1,496.5 L 434.3,493.2 L 431.3,482.3 L 433.9,476.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 463.2,213.1 L 468.9,203.8 L 479.6,192.7 L 483.8,173.6 L 475.6,165.4 L 474.8,143.9 L 483.2,128.7 L 495.9,128.9 L 500.4,122.5 L 495.7,117.0 L 515.7,94.2 L 528.5,76.2 L 537.0,64.6 L 549.4,64.7 L 552.8,55.7 L 577.0,58.3 L 578.9,47.6 L 586.9,46.9 L 604.0,54.9 L 624.1,65.9 L 624.4,90.9 L 628.8,97.2 L 606.6,101.8 L 594.2,113.1 L 596.2,123.0 L 575.7,136.1 L 550.9,150.0 L 541.5,172.8 L 550.7,184.3 L 563.0,193.3 L 551.2,211.6 L 537.8,215.4 L 532.9,242.6 L 525.6,257.8 L 510.0,256.2 L 502.7,269.1 L 487.8,269.8 L 483.8,254.5 L 473.0,236.1 L 463.2,213.1 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 683.7,256.7 L 697.2,260.8 L 699.1,264.8 L 705.8,262.9 L 718.4,266.7 L 719.6,274.4 L 716.9,278.7 L 724.9,289.3 L 730.2,292.3 L 729.4,295.2 L 738.1,298.1 L 741.8,302.4 L 736.8,306.0 L 726.4,305.4 L 723.9,306.9 L 726.9,312.3 L 730.1,322.7 L 730.1,322.7 L 719.1,323.6 L 715.1,327.2 L 714.3,335.4 L 709.2,333.8 L 697.6,334.6 L 694.2,330.8 L 689.4,333.6 L 684.5,331.3 L 674.4,330.9 L 660.1,327.0 L 647.1,325.8 L 637.1,326.1 L 630.1,330.5 L 623.9,331.2 L 623.7,323.9 L 619.7,316.4 L 627.4,313.1 L 627.5,306.7 L 623.9,300.5 L 623.4,293.3 L 635.8,293.4 L 649.8,287.3 L 652.7,278.2 L 663.3,273.0 L 662.1,265.7 L 669.9,263.0 L 683.7,256.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 730.1,322.7 L 734.9,323.3 L 738.2,319.6 L 742.1,320.5 L 755.4,318.9 L 763.6,328.1 L 760.4,331.4 L 761.5,336.4 L 771.7,337.2 L 776.3,344.2 L 776.0,347.4 L 792.3,353.1 L 802.2,350.5 L 810.1,358.1 L 817.6,357.9 L 836.6,363.2 L 836.8,368.0 L 831.5,376.5 L 834.4,385.4 L 832.3,390.8 L 819.9,392.0 L 813.3,396.5 L 812.9,403.7 L 802.6,405.0 L 794.1,410.3 L 782.0,411.1 L 770.9,417.2 L 771.6,425.9 L 769.7,425.4 L 768.0,422.2 L 763.8,421.5 L 754.7,418.1 L 751.3,422.1 L 749.6,420.3 L 729.6,416.2 L 728.7,410.2 L 716.8,412.2 L 712.0,421.1 L 702.0,433.1 L 696.2,430.3 L 690.2,432.9 L 684.4,429.9 L 687.7,428.2 L 689.9,422.6 L 693.4,417.4 L 692.5,414.5 L 695.2,413.2 L 696.5,415.5 L 704.1,415.9 L 707.5,414.7 L 705.1,413.1 L 706.0,410.7 L 701.5,406.6 L 699.6,399.8 L 694.9,397.1 L 695.9,391.6 L 690.1,387.3 L 684.8,386.7 L 675.3,381.6 L 666.7,383.2 L 663.7,385.6 L 658.3,385.6 L 655.0,389.4 L 645.5,391.0 L 641.1,393.4 L 635.2,389.5 L 626.9,389.4 L 619.0,387.6 L 613.4,391.1 L 612.5,386.8 L 605.4,382.3 L 607.9,375.8 L 611.5,371.6 L 614.3,372.5 L 611.0,365.2 L 622.6,351.8 L 629.0,349.9 L 630.4,345.3 L 623.9,331.2 L 630.1,330.5 L 637.1,326.1 L 647.1,325.8 L 660.1,327.0 L 674.4,330.9 L 684.5,331.3 L 689.4,333.6 L 694.2,330.8 L 697.6,334.6 L 709.2,333.8 L 714.3,335.4 L 715.1,327.2 L 719.1,323.6 L 730.1,322.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 623.4,293.3 L 623.9,300.5 L 627.5,306.7 L 627.4,313.1 L 619.7,316.4 L 623.7,323.9 L 623.9,331.2 L 630.4,345.3 L 629.0,349.9 L 622.6,351.8 L 611.0,365.2 L 614.3,372.5 L 611.5,371.6 L 599.2,365.3 L 590.0,367.6 L 583.9,366.0 L 576.3,369.5 L 569.8,363.7 L 564.6,365.9 L 563.8,364.9 L 557.9,356.9 L 548.4,356.0 L 547.1,350.9 L 538.3,349.1 L 536.4,353.3 L 529.4,349.9 L 530.2,345.4 L 520.6,344.0 L 514.5,338.8 L 509.2,328.5 L 510.2,322.9 L 507.1,314.2 L 502.4,308.4 L 506.0,304.1 L 503.0,295.8 L 511.8,291.1 L 531.8,283.6 L 548.0,278.1 L 560.8,280.8 L 561.8,284.8 L 574.2,285.0 L 590.0,286.8 L 613.7,286.6 L 620.3,288.3 L 623.4,293.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 539.7,387.2 L 538.8,393.8 L 531.5,393.8 L 534.0,397.4 L 529.7,407.8 L 527.3,410.5 L 516.0,410.9 L 509.6,414.6 L 498.9,413.4 L 480.6,409.2 L 477.7,403.5 L 465.0,406.4 L 463.5,409.4 L 455.7,407.1 L 449.1,406.7 L 443.3,403.7 L 445.3,399.8 L 444.8,396.9 L 448.7,396.0 L 455.2,400.5 L 457.0,396.2 L 468.3,396.9 L 477.5,394.0 L 483.7,394.5 L 487.7,397.8 L 488.9,395.1 L 487.1,384.5 L 491.7,382.4 L 496.2,375.0 L 505.8,380.2 L 513.0,373.6 L 517.5,372.3 L 527.5,377.3 L 533.6,376.4 L 539.5,379.5 L 538.5,381.6 L 539.7,387.2 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 605.4,382.3 L 612.5,386.8 L 613.4,391.1 L 605.6,394.5 L 599.5,405.5 L 591.7,416.5 L 581.4,419.6 L 573.4,418.8 L 563.5,423.1 L 563.5,423.1 L 558.7,425.5 L 548.1,422.4 L 538.5,415.4 L 534.4,413.5 L 531.9,408.0 L 529.7,407.8 L 534.0,397.4 L 531.5,393.8 L 538.8,393.8 L 539.7,387.2 L 546.3,391.3 L 551.0,393.1 L 561.8,391.1 L 562.8,387.9 L 568.0,387.4 L 574.2,384.9 L 575.6,385.9 L 581.6,383.9 L 584.7,380.1 L 588.9,379.1 L 602.6,384.0 L 605.4,382.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 663.7,385.6 L 666.7,383.2 L 675.3,381.6 L 684.8,386.7 L 690.1,387.3 L 695.9,391.6 L 694.9,397.1 L 699.6,399.8 L 701.5,406.6 L 706.0,410.7 L 705.1,413.1 L 707.5,414.7 L 704.1,415.9 L 696.5,415.5 L 695.2,413.2 L 692.5,414.5 L 693.4,417.4 L 689.9,422.6 L 687.7,428.2 L 684.4,429.9 L 682.1,422.5 L 683.5,415.6 L 683.1,408.5 L 675.7,398.8 L 671.6,392.0 L 667.6,387.2 L 663.7,385.6 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 684.4,429.9 L 690.2,432.9 L 696.2,430.3 L 702.0,433.1 L 702.3,437.3 L 696.1,440.8 L 692.2,439.2 L 688.6,458.8 L 681.0,457.1 L 671.7,451.2 L 656.6,455.0 L 650.2,459.1 L 631.3,458.3 L 621.4,455.7 L 616.4,456.9 L 612.7,450.2 L 610.4,447.4 L 613.4,444.7 L 610.2,442.7 L 606.2,446.3 L 598.7,441.6 L 597.6,434.9 L 589.8,431.1 L 588.4,425.9 L 581.4,419.6 L 591.7,416.5 L 599.5,405.5 L 605.6,394.5 L 613.4,391.1 L 619.0,387.6 L 626.9,389.4 L 635.2,389.5 L 641.1,393.4 L 645.5,391.0 L 655.0,389.4 L 658.3,385.6 L 663.7,385.6 L 667.6,387.2 L 671.6,392.0 L 675.7,398.8 L 683.1,408.5 L 683.5,415.6 L 682.1,422.5 L 684.4,429.9 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 662.1,265.7 L 663.3,273.0 L 652.7,278.2 L 649.8,287.3 L 635.8,293.4 L 623.4,293.3 L 620.3,288.3 L 613.7,286.6 L 612.7,282.4 L 614.0,278.0 L 608.3,275.4 L 594.9,272.6 L 592.1,259.0 L 606.9,254.0 L 628.4,255.0 L 641.1,253.4 L 642.9,256.8 L 649.7,257.8 L 662.1,265.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 672.3,235.5 L 678.5,239.3 L 679.6,247.1 L 683.7,256.7 L 669.9,263.0 L 662.1,265.7 L 649.7,257.8 L 642.9,256.8 L 641.1,253.4 L 628.4,255.0 L 606.9,254.0 L 592.1,259.0 L 592.6,246.7 L 598.9,236.6 L 611.0,231.0 L 621.2,243.1 L 631.6,242.8 L 634.0,230.4 L 645.0,227.5 L 650.6,229.5 L 661.7,235.5 L 672.3,235.5 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 681.2,203.1 L 681.2,203.1 L 683.1,205.9 L 674.0,215.3 L 677.8,230.4 L 672.3,235.5 L 661.7,235.5 L 650.6,229.5 L 645.0,227.5 L 634.0,230.4 L 635.5,220.8 L 630.8,222.9 L 622.6,217.1 L 621.5,207.8 L 637.8,203.3 L 654.0,200.9 L 667.9,203.6 L 681.2,203.1 L 681.2,203.1 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 503.0,295.8 L 506.0,304.1 L 502.4,308.4 L 507.1,314.2 L 510.2,322.9 L 509.2,328.5 L 514.5,338.8 L 508.8,340.5 L 505.4,338.6 L 502.2,341.7 L 492.9,344.9 L 488.1,348.9 L 478.8,352.4 L 481.1,357.3 L 482.4,364.1 L 489.0,368.0 L 496.2,375.0 L 491.7,382.4 L 487.1,384.5 L 488.9,395.1 L 487.7,397.8 L 483.7,394.5 L 477.5,394.0 L 468.3,396.9 L 457.0,396.2 L 455.2,400.5 L 448.7,396.0 L 444.8,396.9 L 431.0,391.9 L 428.4,395.5 L 417.4,395.3 L 419.1,383.8 L 425.6,372.7 L 407.0,369.7 L 401.0,365.5 L 401.7,358.3 L 399.1,354.7 L 400.6,343.7 L 398.4,326.7 L 406.1,326.7 L 409.4,320.6 L 412.6,305.8 L 410.2,300.3 L 412.7,296.9 L 423.5,296.0 L 425.9,299.5 L 434.6,291.6 L 431.6,285.5 L 431.1,276.3 L 440.8,278.4 L 449.0,275.9 L 449.2,282.2 L 462.2,286.0 L 462.1,291.8 L 475.2,288.7 L 482.4,284.3 L 496.9,290.7 L 503.0,295.8 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 612.7,450.2 L 616.4,456.9 L 621.4,455.7 L 631.3,458.3 L 650.2,459.1 L 656.6,455.0 L 671.7,451.2 L 681.0,457.1 L 688.6,458.8 L 681.9,465.5 L 677.2,477.1 L 681.4,486.4 L 670.3,484.2 L 657.2,489.3 L 657.1,497.4 L 645.4,498.9 L 636.3,493.2 L 626.0,497.7 L 616.5,497.2 L 615.6,486.5 L 609.2,481.3 L 611.3,479.0 L 609.9,477.1 L 612.1,471.9 L 617.0,466.8 L 610.7,459.8 L 609.6,453.9 L 612.7,450.2 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 659.4,595.1 L 657.8,599.9 L 639.3,601.3 L 639.5,598.6 L 623.8,595.5 L 626.1,588.6 L 633.2,594.0 L 643.2,593.1 L 652.7,594.3 L 652.4,597.1 L 659.4,595.1 Z M 616.5,497.2 L 626.0,497.7 L 636.3,493.2 L 645.4,498.9 L 657.1,497.4 L 657.2,489.3 L 663.5,493.6 L 659.5,503.7 L 656.4,505.6 L 648.6,505.1 L 641.9,503.6 L 626.3,507.8 L 635.2,516.9 L 628.7,519.5 L 621.6,519.6 L 614.8,511.2 L 612.3,514.8 L 615.2,524.4 L 621.6,532.1 L 616.8,535.6 L 624.0,543.1 L 630.3,547.8 L 630.5,556.9 L 618.6,552.6 L 622.4,560.9 L 614.2,562.6 L 619.1,576.9 L 610.6,577.1 L 600.0,570.1 L 595.2,557.1 L 593.0,546.3 L 588.0,538.9 L 581.4,529.6 L 580.5,525.0 L 586.5,517.1 L 587.2,511.9 L 591.4,509.5 L 591.7,505.3 L 600.1,503.8 L 605.0,500.3 L 612.0,500.6 L 614.1,497.8 L 616.5,497.2 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 591.7,505.3 L 591.4,509.5 L 587.2,511.9 L 586.5,517.1 L 580.5,525.0 L 578.3,523.9 L 578.1,520.3 L 570.9,514.9 L 569.8,507.1 L 570.9,496.1 L 572.7,491.0 L 570.5,488.5 L 570.5,488.5 L 569.6,483.3 L 575.2,475.3 L 576.0,478.4 L 579.5,476.9 L 582.2,481.3 L 585.3,483.0 L 586.2,488.8 L 586.2,488.8 L 584.5,494.3 L 586.4,501.3 L 591.7,505.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 534.4,413.5 L 538.5,415.4 L 548.1,422.4 L 558.7,425.5 L 563.5,423.1 L 566.6,429.4 L 570.7,434.0 L 565.8,440.1 L 560.0,436.5 L 551.1,436.7 L 540.0,434.0 L 534.0,434.4 L 531.2,437.8 L 526.6,434.0 L 523.9,440.8 L 530.2,448.4 L 533.0,453.4 L 538.9,459.4 L 543.8,463.0 L 548.7,469.8 L 560.1,475.9 L 558.6,478.7 L 558.6,478.7 L 546.6,472.7 L 539.1,466.9 L 527.3,462.0 L 516.5,450.1 L 519.1,448.9 L 513.3,442.1 L 513.0,436.6 L 504.8,434.0 L 500.8,441.0 L 497.0,435.6 L 497.3,430.0 L 497.8,429.7 L 506.7,430.3 L 509.1,427.5 L 513.5,430.2 L 518.5,430.5 L 518.5,426.0 L 522.9,424.3 L 524.2,417.8 L 534.4,413.5 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 444.8,396.9 L 445.3,399.8 L 443.3,403.7 L 449.1,406.7 L 455.7,407.1 L 454.7,413.8 L 449.0,416.5 L 439.5,414.5 L 436.7,421.0 L 430.6,421.5 L 428.4,419.0 L 421.1,424.5 L 414.9,425.2 L 409.4,421.8 L 405.0,414.7 L 398.9,417.2 L 399.1,409.9 L 408.5,400.7 L 408.0,396.6 L 413.9,398.1 L 417.4,395.3 L 428.4,395.5 L 431.0,391.9 L 444.8,396.9 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 399.1,354.7 L 401.7,358.3 L 401.0,365.5 L 397.3,365.8 L 394.4,364.4 L 395.8,355.3 L 399.1,354.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 400.6,343.7 L 399.1,354.7 L 395.8,355.3 L 394.4,364.4 L 383.1,357.0 L 376.5,358.3 L 367.6,350.6 L 361.6,344.1 L 355.6,343.8 L 353.7,338.1 L 364.0,334.9 L 364.1,334.9 L 364.0,334.9 L 373.5,336.2 L 385.4,332.8 L 393.5,339.9 L 400.6,343.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 410.2,300.3 L 412.6,305.8 L 409.4,320.6 L 406.1,326.7 L 398.4,326.7 L 400.6,343.7 L 393.5,339.9 L 385.4,332.8 L 373.5,336.2 L 364.0,334.9 L 364.1,334.9 L 370.7,330.5 L 381.9,306.6 L 399.5,299.8 L 410.2,300.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 205.3,488.4 L 209.9,484.3 L 215.2,481.9 L 218.4,489.9 L 226.0,489.9 L 228.2,487.8 L 235.7,488.4 L 239.3,496.5 L 233.3,500.9 L 233.2,513.6 L 231.1,515.9 L 230.6,523.6 L 225.0,524.9 L 230.2,534.6 L 226.6,545.3 L 231.1,550.1 L 229.3,554.5 L 224.5,560.6 L 225.6,566.0 L 220.4,570.2 L 213.6,567.9 L 207.0,569.7 L 209.0,557.0 L 207.8,547.0 L 202.0,545.5 L 198.9,539.4 L 200.0,528.8 L 205.1,522.9 L 206.0,516.3 L 208.7,506.6 L 208.4,499.7 L 205.8,493.9 L 205.3,488.4 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 225.6,566.0 L 224.5,560.6 L 229.3,554.5 L 231.1,550.1 L 226.6,545.3 L 230.2,534.6 L 225.0,524.9 L 230.6,523.6 L 231.1,515.9 L 233.2,513.6 L 233.3,500.9 L 239.3,496.5 L 235.7,488.4 L 228.2,487.8 L 226.0,489.9 L 218.4,489.9 L 215.2,481.9 L 209.9,484.3 L 205.3,488.4 L 205.9,476.9 L 200.7,469.8 L 218.9,458.1 L 234.6,461.1 L 251.8,461.0 L 265.5,463.7 L 276.2,462.9 L 297.0,463.4 L 302.1,469.7 L 325.8,477.1 L 330.4,473.6 L 344.9,480.9 L 359.8,478.8 L 360.5,488.2 L 348.3,499.0 L 331.8,502.5 L 330.7,507.9 L 322.8,516.9 L 317.8,530.1 L 322.9,539.4 L 315.4,546.6 L 312.6,557.2 L 302.9,560.4 L 293.8,572.9 L 277.5,573.1 L 265.3,572.8 L 257.2,578.5 L 252.3,584.6 L 246.0,583.3 L 241.2,577.8 L 237.6,568.5 L 225.6,566.0 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 241.7,294.0 L 243.9,305.6 L 234.1,320.1 L 211.4,329.7 L 193.2,327.2 L 203.6,310.3 L 196.9,293.8 L 214.4,281.1 L 224.1,273.5 L 226.7,282.2 L 224.1,290.9 L 232.0,290.7 L 241.7,294.0 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 455.7,407.1 L 463.5,409.4 L 465.0,406.4 L 477.7,403.5 L 480.6,409.2 L 498.9,413.4 L 497.5,421.3 L 500.6,428.3 L 490.4,425.9 L 479.9,431.6 L 480.6,439.7 L 479.1,444.3 L 483.3,452.6 L 495.3,460.7 L 501.8,474.1 L 516.1,487.2 L 526.2,487.1 L 529.3,490.7 L 525.7,493.9 L 537.2,499.8 L 546.7,504.7 L 557.7,513.2 L 559.0,516.2 L 556.6,522.0 L 549.5,514.4 L 538.3,511.7 L 532.9,522.2 L 542.2,528.2 L 540.7,536.7 L 535.3,537.7 L 528.4,551.6 L 523.1,552.8 L 523.1,547.9 L 525.8,539.2 L 528.5,535.7 L 523.5,526.3 L 519.6,518.1 L 514.3,516.1 L 510.5,509.1 L 502.2,506.2 L 496.6,499.6 L 487.1,498.6 L 477.1,491.3 L 465.3,480.7 L 456.6,471.4 L 452.6,455.4 L 446.2,453.5 L 435.7,448.1 L 429.8,450.3 L 422.4,457.8 L 417.0,459.0 L 418.5,452.0 L 411.5,449.9 L 408.2,437.4 L 412.7,432.4 L 408.9,426.3 L 409.4,421.8 L 414.9,425.2 L 421.1,424.5 L 428.4,419.0 L 430.6,421.5 L 436.7,421.0 L 439.5,414.5 L 449.0,416.5 L 454.7,413.8 L 455.7,407.1 Z M 511.2,549.0 L 521.0,547.6 L 516.3,560.4 L 518.3,565.4 L 515.6,573.7 L 505.7,567.6 L 499.2,565.9 L 481.3,557.6 L 483.1,549.3 L 498.1,550.8 L 511.2,549.0 Z M 433.4,504.3 L 439.8,499.3 L 447.6,510.8 L 445.8,532.3 L 439.9,531.2 L 434.7,536.6 L 429.8,532.3 L 429.3,512.8 L 426.3,503.5 L 433.4,504.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 449.0,275.9 L 440.8,278.4 L 431.1,276.3 L 425.8,267.3 L 425.4,250.7 L 427.6,246.3 L 431.3,241.5 L 442.6,240.5 L 447.1,236.0 L 457.5,231.4 L 457.0,239.7 L 453.2,245.0 L 454.8,249.6 L 461.7,252.0 L 458.6,258.1 L 454.8,256.4 L 445.5,268.1 L 449.0,275.9 Z M 480.5,257.7 L 484.6,265.8 L 476.9,278.9 L 463.4,269.8 L 461.6,263.0 L 480.5,257.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 241.7,294.0 L 232.0,290.7 L 224.1,290.9 L 226.7,282.2 L 224.1,273.5 L 234.9,272.9 L 248.6,282.9 L 241.7,294.0 Z M 281.7,301.5 L 281.7,301.5 L 283.6,292.1 L 275.0,282.1 L 274.8,281.9 L 259.1,279.1 L 256.1,274.7 L 260.8,267.4 L 256.5,263.0 L 249.6,270.6 L 248.9,255.0 L 242.4,246.7 L 247.0,230.0 L 257.0,216.8 L 267.3,218.1 L 282.8,216.7 L 269.1,234.3 L 282.1,232.1 L 296.2,232.1 L 292.9,245.4 L 281.3,259.9 L 294.6,260.9 L 295.6,262.6 L 307.1,281.8 L 315.9,284.4 L 323.8,302.8 L 327.5,309.2 L 343.0,312.3 L 341.5,322.7 L 334.9,327.5 L 340.1,335.8 L 328.5,344.3 L 311.3,344.2 L 289.4,348.6 L 283.4,345.5 L 274.9,353.1 L 263.0,351.2 L 254.0,357.4 L 247.2,354.2 L 266.0,337.1 L 277.5,333.6 L 277.4,333.6 L 257.3,330.9 L 253.7,324.5 L 267.1,319.4 L 260.1,310.7 L 262.5,300.1 L 281.7,301.5 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 134.9,89.9 L 131.9,100.4 L 146.4,111.5 L 129.7,123.8 L 92.6,134.9 L 81.6,137.9 L 64.6,135.5 L 28.8,130.4 L 41.4,123.2 L 13.4,115.3 L 36.2,112.1 L 35.6,107.4 L 8.7,103.6 L 17.4,93.0 L 36.8,90.6 L 56.9,101.6 L 76.4,92.8 L 92.6,97.4 L 113.6,88.8 L 134.9,89.9 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 498.9,413.4 L 509.6,414.6 L 516.0,410.9 L 527.3,410.5 L 529.7,407.8 L 531.9,408.0 L 534.4,413.5 L 524.2,417.8 L 522.9,424.3 L 518.5,426.0 L 518.5,430.5 L 513.5,430.2 L 509.1,427.5 L 506.7,430.3 L 497.8,429.7 L 500.6,428.3 L 497.5,421.3 L 498.9,413.4 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 689.0,47.6 L 687.2,59.0 L 706.9,69.8 L 695.0,82.0 L 709.9,100.4 L 701.3,114.3 L 712.9,126.4 L 707.6,137.0 L 726.6,148.1 L 721.8,156.4 L 709.9,165.7 L 682.3,186.4 L 682.3,186.4 L 682.3,186.4 L 659.0,187.7 L 636.4,193.7 L 615.5,197.1 L 608.0,188.2 L 595.6,182.9 L 598.4,166.9 L 592.2,152.3 L 598.3,142.9 L 610.0,132.7 L 639.4,115.1 L 648.0,111.7 L 646.6,104.8 L 628.8,97.2 L 624.4,90.9 L 624.1,65.9 L 604.0,54.9 L 586.9,46.9 L 594.6,42.6 L 608.9,51.2 L 625.7,50.4 L 639.5,54.3 L 651.7,47.2 L 658.0,35.3 L 678.0,29.8 L 694.5,36.2 L 689.0,47.6 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 611.5,371.6 L 607.9,375.8 L 605.4,382.3 L 602.6,384.0 L 588.9,379.1 L 584.7,380.1 L 581.6,383.9 L 575.6,385.9 L 574.2,384.9 L 568.0,387.4 L 562.8,387.9 L 561.8,391.1 L 551.0,393.1 L 546.3,391.3 L 539.7,387.2 L 538.5,381.6 L 539.5,379.5 L 541.3,375.9 L 547.0,376.2 L 551.4,374.5 L 551.7,373.0 L 554.2,372.3 L 555.0,368.6 L 558.0,367.9 L 560.0,364.9 L 563.8,364.9 L 564.6,365.9 L 569.8,363.7 L 576.3,369.5 L 583.9,366.0 L 590.0,367.6 L 599.2,365.3 L 611.5,371.6 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 514.5,338.8 L 520.6,344.0 L 530.2,345.4 L 529.4,349.9 L 536.4,353.3 L 538.3,349.1 L 547.1,350.9 L 548.4,356.0 L 557.9,356.9 L 563.8,364.9 L 560.0,364.9 L 558.0,367.9 L 555.0,368.6 L 554.2,372.3 L 551.7,373.0 L 551.4,374.5 L 547.0,376.2 L 541.3,375.9 L 539.5,379.5 L 533.6,376.4 L 527.5,377.3 L 517.5,372.3 L 513.0,373.6 L 505.8,380.2 L 496.2,375.0 L 489.0,368.0 L 482.4,364.1 L 481.1,357.3 L 478.8,352.4 L 488.1,348.9 L 492.9,344.9 L 502.2,341.7 L 505.4,338.6 L 508.8,340.5 L 514.5,338.8 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 742.3,597.7 L 744.7,598.6 L 748.2,597.2 L 750.6,597.4 L 751.6,598.4 L 751.8,600.0 L 752.5,599.4 L 754.4,599.7 L 756.9,598.5 L 758.2,599.1 L 758.6,600.4 L 745.5,606.9 L 739.2,604.8 L 736.2,598.3 L 742.3,597.7 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 560.1,475.9 L 548.7,469.8 L 543.8,463.0 L 538.9,459.4 L 533.0,453.4 L 530.2,448.4 L 523.9,440.8 L 526.6,434.0 L 531.2,437.8 L 534.0,434.4 L 540.0,434.0 L 551.1,436.7 L 560.0,436.5 L 565.8,440.1 L 565.8,440.1 L 570.4,440.1 L 567.2,447.2 L 573.4,453.4 L 571.6,461.1 L 568.5,461.8 L 566.1,463.3 L 561.9,467.0 L 560.1,475.9 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 609.2,481.3 L 615.6,486.5 L 616.5,497.2 L 614.1,497.8 L 612.0,500.6 L 605.0,500.3 L 600.1,503.8 L 591.7,505.3 L 586.4,501.3 L 584.5,494.3 L 586.2,488.8 L 586.2,488.8 L 587.8,489.0 L 588.4,485.6 L 596.0,483.1 L 598.8,482.5 L 603.2,481.6 L 609.2,481.3 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 563.5,423.1 L 563.5,423.1 L 573.4,418.8 L 581.4,419.6 L 588.4,425.9 L 589.8,431.1 L 597.6,434.9 L 598.7,441.6 L 606.2,446.3 L 610.2,442.7 L 613.4,444.7 L 610.4,447.4 L 612.7,450.2 L 609.6,453.9 L 610.7,459.8 L 617.0,466.8 L 612.1,471.9 L 609.9,477.1 L 611.3,479.0 L 609.2,481.3 L 603.2,481.6 L 598.8,482.5 L 598.4,481.3 L 600.0,479.4 L 601.4,475.4 L 599.6,475.5 L 597.1,472.5 L 595.0,471.7 L 593.3,469.2 L 590.9,468.1 L 589.0,465.9 L 586.7,466.8 L 585.0,472.1 L 581.9,473.3 L 582.9,471.9 L 578.0,468.6 L 573.8,466.8 L 571.9,464.6 L 568.5,461.8 L 571.6,461.1 L 573.4,453.4 L 567.2,447.2 L 570.4,440.1 L 565.8,440.1 L 565.8,440.1 L 570.7,434.0 L 566.6,429.4 L 563.5,423.1 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 579.5,476.9 L 576.0,478.4 L 575.2,475.3 L 569.6,483.3 L 570.5,488.5 L 567.8,487.2 L 564.2,481.9 L 558.6,478.7 L 560.1,475.9 L 561.9,467.0 L 566.1,463.3 L 568.5,461.8 L 571.9,464.6 L 573.8,466.8 L 578.0,468.6 L 582.9,471.9 L 581.9,473.3 L 579.5,476.9 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["d","M 586.2,488.8 L 585.3,483.0 L 582.2,481.3 L 579.5,476.9 L 581.9,473.3 L 585.0,472.1 L 586.7,466.8 L 589.0,465.9 L 590.9,468.1 L 593.3,469.2 L 595.0,471.7 L 597.1,472.5 L 599.6,475.5 L 601.4,475.4 L 600.0,479.4 L 598.4,481.3 L 598.8,482.5 L 596.0,483.1 L 588.4,485.6 L 587.8,489.0 L 586.2,488.8 Z","fill","#d4c9a8","stroke","#a89870","stroke-width","0.7"],["fill","none","stroke","#888","stroke-width","3","stroke-dasharray","12,7","opacity","0.5"],["fill","none","stroke","#43c6ac","stroke-width","5","stroke-linecap","round","stroke-linejoin","round"],["r","14","fill","none","stroke","#e74c3c","stroke-width","2.5","opacity","0.5",1,"pulse-ring"],["r","9","fill","#e74c3c","stroke","#fff","stroke-width","2.5",1,"progress-dot"],[1,"map-info"],[1,"weather-badge"],[1,"location-badge"],[1,"location-icon"],[1,"location-text"],[1,"lap-message"],[1,"km-total"],["r","8","stroke","#333","stroke-width","2"],["font-size","15","font-family","sans-serif","font-weight","700","fill","#1a1a2e","paint-order","stroke","stroke","#fff","stroke-width","4"],["r","5","stroke","#555","stroke-width","1.5"],["font-size","12","font-family","sans-serif","fill","#333","paint-order","stroke","stroke","#fff","stroke-width","3"],["x","185","y","168","width","145","height","32","rx","8","fill","rgba(0,0,0,0.55)"],["x","197","y","189","font-size","16","font-family","sans-serif","fill","#fff","font-weight","600"]],template:function(L,e){L&1&&(c(0,"div",0),g(),c(1,"svg",1),h(2,"rect",2),c(3,"g",3),h(4,"path",4)(5,"path",5)(6,"path",6)(7,"path",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16)(17,"path",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21)(22,"path",22)(23,"path",23)(24,"path",24)(25,"path",25)(26,"path",26)(27,"path",27)(28,"path",28)(29,"path",29)(30,"path",30)(31,"path",31)(32,"path",32)(33,"path",33)(34,"path",34)(35,"path",35)(36,"path",36)(37,"path",37)(38,"path",38)(39,"path",39)(40,"path",40)(41,"path",41)(42,"path",42)(43,"path",43),d(),h(44,"path",44),k(45,d4,1,1,":svg:path",45),N(46,h4,3,2,":svg:g",null,c4),h(48,"circle",46)(49,"circle",47),k(50,u4,3,1),d(),A(),c(51,"div",48),k(52,g4,3,3,"div",49),c(53,"div",50)(54,"span",51),u(55,"\u{1F3C1}"),d(),c(56,"span",52),u(57),d()(),k(58,f4,2,1,"div",53),c(59,"div",54),u(60),d()()()),L&2&&(r(),m("viewBox",e.routeViewBox),r(43),m("d",e.fullRoutePath),r(),y(e.progressPath?45:-1),r(),H(e.waypoints),r(2),m("cx",e.dotX)("cy",e.dotY),r(),m("cx",e.dotX)("cy",e.dotY),r(),y(e.currentLap>0?50:-1),r(2),y(e.weatherTemp!==null?52:-1),r(5),P("Noch ",e.kmToNextCity.toLocaleString("de-DE")," km bis ",e.nearestCityName),r(),y(e.lapMessage?58:-1),r(2),P("",e.totalKmFormatted," km von ",e.totalGoal.toLocaleString("de-DE")," km"))},dependencies:[G],styles:[".europe-map-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:.75rem}.europe-svg[_ngcontent-%COMP%]{width:100%;height:auto;display:block;border-radius:10px;box-shadow:0 2px 8px #00000026}.pulse-ring[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.8s ease-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%{r:8;opacity:.7}to{r:20;opacity:0}}.progress-dot[_ngcontent-%COMP%]{transition:cx .6s ease,cy .6s ease}.map-info[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:.75rem;padding:.5rem .25rem}.map-info[_ngcontent-%COMP%]   .location-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;background:#f0f9f7;border:1px solid #43c6ac;border-radius:20px;padding:.25rem .75rem;font-weight:600;font-size:.9rem;color:#1a6b5a}.map-info[_ngcontent-%COMP%]   .location-badge[_ngcontent-%COMP%]   .location-icon[_ngcontent-%COMP%]{font-size:1rem}.map-info[_ngcontent-%COMP%]   .lap-message[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #f4c637;border-radius:8px;padding:.25rem .75rem;font-size:.85rem;font-weight:600;color:#7a5c00}.map-info[_ngcontent-%COMP%]   .km-total[_ngcontent-%COMP%]{margin-left:auto;font-size:.85rem;color:#666;white-space:nowrap}.map-info[_ngcontent-%COMP%]   .weather-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;background:#eef4ff;border:1px solid #93b4f0;border-radius:20px;padding:.25rem .75rem;font-weight:600;font-size:.9rem;color:#1a3a6b;white-space:nowrap}@media (max-width: 480px){.map-info[_ngcontent-%COMP%]   .km-total[_ngcontent-%COMP%]{margin-left:0}}"]})};var r4=class a extends B{constructor(L,e,i,n){super();this.http=L;this.platformId=e;this.lockService=i;this.toast=n;this.initializeData()}SHEET_URL=V.gipfelstuermerSheetUrl;CACHE_KEY="km_challenge_data";CHALLENGE_ID="KM1";CACHE_DURATION=5*60*1e3;config={id:"eurotrip-km-2025",title:"Eurotrip Challenge",active:!0,metricLabel:"Kilometer",metricUnit:"km",goalValue:5e4,maxEntryValue:200,goals:[],chartProfile:[],chartMaxScale:0};entriesSubject=new b([]);rankingsSubject=new b([]);totalSubject=new b(0);chartDataSubject=new b({labels:[],values:[]});dataLoaded=!1;entries$=this.entriesSubject.asObservable();rankings$=this.rankingsSubject.asObservable();total$=this.totalSubject.asObservable();chartData$=this.chartDataSubject.asObservable();initializeData(){return v(this,null,function*(){this.loadFromCache()||(yield this.refreshAllData())})}loadFromCache(){if(!I(this.platformId))return!1;try{let L=localStorage.getItem(this.CACHE_KEY);if(L){let{entries:e,timestamp:i}=JSON.parse(L);if(Date.now()-i<this.CACHE_DURATION)return this.updateState(e),this.dataLoaded=!0,!0;localStorage.removeItem(this.CACHE_KEY)}}catch(L){console.error("Error reading from cache:",L)}return!1}saveToCache(L){if(I(this.platformId))try{let e={entries:L,timestamp:Date.now()};localStorage.setItem(this.CACHE_KEY,JSON.stringify(e))}catch(e){console.error("Error saving to cache:",e)}}refreshAllData(){return v(this,null,function*(){try{let L=yield S(this.http.get(`${this.SHEET_URL}?action=get&challenge=${this.CHALLENGE_ID}`)),e=this.processEntries(L?.main??[]);this.updateState(e),this.saveToCache(e),this.dataLoaded=!0}catch(L){console.error("Error refreshing KM data:",L),this.toast.show("Fehler beim Laden der Daten!",4e3)}})}loadData(){return v(this,null,function*(){this.dataLoaded||(yield this.refreshAllData())})}submitData(L,e){return v(this,null,function*(){if(!this.config.active){this.toast.show("Die Challenge ist beendet. Keine Eintr\xE4ge mehr m\xF6glich. \u{1F512}");return}if(!(yield this.lockService.requestUnlock()))return;let n={name:L,value:e,date:new Date().toISOString()};try{this.updateLocalState(n,"add"),yield S(this.http.get(`${this.SHEET_URL}?action=add&name=${encodeURIComponent(L)}&hohenmeter=${e}&challenge=${this.CHALLENGE_ID}`)),this.toast.show("Eintrag erfolgreich hinzugef\xFCgt!")}catch(l){throw console.error("Error submitting KM data:",l),yield this.refreshAllData(),this.toast.show("Fehler beim Hinzuf\xFCgen des Eintrags!",4e3),l}})}deleteData(L){return v(this,null,function*(){if(yield this.lockService.requestUnlock())try{this.updateLocalState(L,"delete"),yield S(this.http.get(`${this.SHEET_URL}?action=delete&name=${encodeURIComponent(L.name)}&hohenmeter=${L.value}&challenge=${this.CHALLENGE_ID}`)),this.toast.show("Eintrag gel\xF6scht.")}catch(i){throw console.error("Error deleting KM data:",i),yield this.refreshAllData(),this.toast.show("Fehler beim L\xF6schen des Eintrags!",4e3),i}})}updateLocalState(L,e){let i=[...this.entriesSubject.value],n=!1;if(e==="add")i.unshift(L),n=!0;else{let l=i.findIndex(o=>o.name===L.name&&o.value===L.value);l!==-1&&(i.splice(l,1),n=!0)}n&&(this.updateState(i),this.saveToCache(i))}updateState(L){this.entriesSubject.next(L),this.rankingsSubject.next(this.calculateRankings(L)),this.totalSubject.next(this.calculateTotal(L)),this.chartDataSubject.next(this.calculateChartData(L)),this.dataLoaded=!0}processEntries(L){return L.map(e=>{let i=e;return{name:i[0],value:parseInt(i[1]),date:i[2]}})}calculateTotal(L){return L.reduce((e,i)=>e+i.value,0)}calculateRankings(L){let e=L.reduce((i,n)=>(i[n.name]=(i[n.name]??0)+n.value,i),{});return Object.entries(e).map(([i,n])=>({name:i,value:n})).sort((i,n)=>n.value-i.value)}calculateChartData(L){let e=[...L].sort((i,n)=>new Date(i.date).getTime()-new Date(n.date).getTime()).slice(-100);return{labels:e.map(i=>new Date(i.date).toLocaleDateString()),values:e.map(i=>i.value)}}isDataLoaded(){return this.entriesSubject.value.length>0}static \u0275fac=function(e){return new(e||a)(M(E),M(R),M(Y),M(X))};static \u0275prov=K({token:a,factory:a.\u0275fac,providedIn:"root"})};export{t4 as a,r4 as b};
